; =============================================================================
; MailForge Haraka DKIM Signing Configuration
; =============================================================================
;
; DKIM (DomainKeys Identified Mail) signing configuration.
;
; NOTE: For MailForge, DKIM keys are typically stored in the database per domain.
; The mailforge plugin handles signing with domain-specific keys.
; This configuration is for fallback/default signing only.
;
; See: https://haraka.github.io/manual/plugins/dkim_sign.html
;

[main]
; Disable default DKIM signing - the mailforge plugin handles this
; Set to false to enable fallback signing with keys below
disabled=true

; Default selector (used in DNS lookup: selector._domainkey.domain)
selector=mailforge

; Default domain (used when From: domain doesn't have specific config)
; domain=yourdomain.com

; Headers to sign (comma-separated)
; Standard headers that should be signed for security
headers_to_sign=from,to,subject,date,message-id,mime-version,content-type,content-transfer-encoding

; Header canonicalization (relaxed or simple)
header_canon=relaxed

; Body canonicalization (relaxed or simple)
body_canon=relaxed

; Signing algorithm (rsa-sha256 recommended)
algorithm=rsa-sha256

; Body length limit (0 = sign entire body, which is recommended)
body_length=0

[keys]
; Key file paths per domain
; Format: domain=/path/to/private-key.pem
;
; Example:
; yourdomain.com=/app/keys/dkim-yourdomain.pem
; mail.example.org=/app/keys/dkim-example.pem

; Default key for all domains (fallback)
; *=/app/keys/dkim-private.pem

[selectors]
; Custom selectors per domain (optional)
; If not specified, uses default selector from [main]
;
; Example:
; yourdomain.com=mailforge2024
; otherdomain.org=s1

[sign_subdomains]
; Whether to sign mail from subdomains
; Format: domain=true/false
;
; Example:
; yourdomain.com=true

; Default: sign subdomains
*=true

[skip_domains]
; Domains to skip signing (useful for forwarded mail)
; One domain per line
;
; Example:
; gmail.com
; yahoo.com

[options]
; Maximum signature length (0 = no limit)
max_sig_length=0

; Identity for d= tag (empty = use From domain)
; identity=

; Timestamp headers (adds t= tag)
timestamp=true

; Expire signatures (adds x= tag, in seconds from now)
; expire=604800
